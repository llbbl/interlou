@import "tailwindcss";

/* ============================================
   INTERLOU THEME
   A Micro.blog theme by Logan Lindquist
   ============================================ */

@source "../layouts/**/*.html";

@theme {
  --color-background: #371554;
  --color-background-alt: #451d67;
  --color-text: #eeeeee;
  --color-text-alt: #cda0f4;
  --color-accent: rgb(217, 70, 239);
  --color-accent-alt: #490123;
  --color-accent-code: rgb(162, 28, 175);
  --color-accent-code-text: rgb(245, 208, 254);

  --font-sans: "Rubik", sans-serif;
  --font-mono: "Roboto Mono", monospace;

  --text-site-title: 4rem;
  --text-heading-1: 3.625rem;
  --text-heading-3: 1.125rem;
  --text-body: 1.125rem;
  --text-blockquote: 1.75rem;
  --text-code: 1rem;

  --spacing-content-gap: 120px;
  --spacing-content-gap-mobile: 60px;

  --max-width-content: 1100px;
}

@layer base {
  :root {
    --background: #371554;
    --background-alt: #451d67;
    --text: #eeeeee;
    --text-alt: #cda0f4;
    --accent: rgb(217, 70, 239);
    --accent-alt: #490123;
  }

  /* Reset */
  body, h1, h2, h3, h4, h5, h6, p, blockquote, pre, hr, dl, dd, ol, ul, figure {
    @apply m-0 p-0;
  }

  body {
    @apply font-sans text-body text-text bg-background;
    margin: 120px auto;
    padding: 0 32px;
  }

  /* Links */
  a {
    @apply text-text transition-colors duration-200;
  }

  a:hover {
    @apply text-accent;
  }

  /* Focus states for keyboard navigation */
  a:focus-visible,
  button:focus-visible {
    @apply outline-none;
    outline: 2px solid var(--accent);
    outline-offset: 2px;
    border-radius: 2px;
  }

  /* Images */
  img {
    @apply w-full h-auto align-middle;
  }

  .e-content img {
    margin: 14px 0 44px 0;
    @apply rounded;
  }

  /* Lists */
  ul {
    @apply ml-10;
    list-style-type: disc;
  }

  ol {
    @apply ml-10;
    list-style-type: decimal;
  }

  li > ul, li > ol {
    @apply mb-0;
  }

  ul li:last-of-type {
    @apply mb-6;
  }
}

@layer components {
  /* ============================================
     WRAPPER
     ============================================ */
  .wrapper {
    @apply max-w-content mx-auto px-8;
  }

  /* ============================================
     SITE HEADER
     ============================================ */
  .site-branding {
    @apply flex items-center gap-6 mb-4;
  }

  .site-header h1,
  body > header h1 {
    @apply text-site-title uppercase font-extrabold pb-0 mb-0;
  }

  .site-image-link {
    @apply flex-shrink-0 rounded-full transition-shadow duration-300;
  }

  .site-image-link:hover {
    box-shadow: 0 0 0 4px var(--accent), 0 0 20px var(--accent);
  }

  img.site-image {
    @apply rounded-full w-20 mb-0 block;
  }

  .site-title {
    @apply text-6xl tracking-tight m-0 text-text no-underline;
  }

  .navigation {
    @apply leading-none;
  }

  .navigation a.page-link,
  .date,
  a.date,
  footer p,
  footer p a {
    @apply font-mono text-lg uppercase font-bold tracking-wide text-text opacity-40 mr-3.5 no-underline;
  }

  .navigation a.page-link:hover,
  a.date:hover {
    @apply text-accent underline opacity-100;
  }

  .navigation a.page-link.is-active {
    @apply text-accent opacity-100;
  }

  /* ============================================
     HEADINGS
     ============================================ */
  h1 {
    @apply mb-8;
  }

  h1, h1 a, h1 a:visited {
    @apply text-heading-1 text-text no-underline;
  }

  .h-entry h1 a {
    @apply text-text no-underline;
  }

  .h-entry h1 a:hover {
    @apply underline;
  }

  h2, h4, h5, h6, p, blockquote, pre, ul, ol, dl, figure, .highlight {
    @apply mb-6;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-bold;
  }

  h3 {
    @apply text-heading-3 uppercase text-accent mb-7 inline-block;
  }

  .seperator {
    @apply text-accent;
    margin: 0 4px 0 -8px;
  }

  /* ============================================
     CONTENT
     ============================================ */
  .e-content p a,
  .e-content p a:visited,
  .e-content li a,
  .e-content li a:visited {
    @apply text-text-alt underline;
  }

  .e-content p a:hover,
  .e-content li a:hover,
  .h-entry a:hover {
    @apply text-accent;
  }

  h3 a {
    @apply text-accent no-underline;
  }

  h3 a:hover {
    @apply underline;
  }

  /* Blockquotes */
  blockquote {
    @apply text-blockquote pl-9 text-text my-8 border-l-8 border-accent;
  }

  blockquote > :last-child {
    @apply mb-0;
  }

  /* Code - inline code styling */
  code {
    @apply text-code rounded px-2 py-1 font-mono;
    background: #1a1b26;
    color: #9ece6a;
  }

  /* Code blocks - let Highlight.js handle syntax colors */
  pre {
    @apply text-code rounded px-8 py-6 my-9 overflow-x-auto;
    background: #1a1b26;
  }

  pre code {
    @apply p-0;
    background: transparent;
    color: inherit;
  }

  /* ============================================
     PAGE CONTENT
     ============================================ */
  .page-content {
    padding: 110px 0 120px 0;
  }

  .page-content ul {
    @apply mb-0;
  }

  .post-list {
    @apply ml-0 list-none;
  }

  .post-list > li {
    margin-bottom: 120px;
  }

  li.h-entry:last-of-type {
    @apply mb-0;
  }

  .post-link {
    @apply block text-2xl;
  }

  .post p.date {
    @apply mb-0;
  }

  /* ============================================
     PAGINATION
     ============================================ */
  #post-nav {
    padding-top: 120px;
  }

  #post-nav .prev {
    @apply pr-4;
  }

  #post-nav .prev a,
  #post-nav .next a {
    @apply no-underline px-6 py-3 rounded-lg;
    color: var(--background);
    background: var(--accent);
  }

  #post-nav .prev a:hover,
  #post-nav .next a:hover {
    background: var(--text);
  }

  /* ============================================
     FOOTER
     ============================================ */
  .site-footer {
    @apply p-0;
  }

  .site-footer .copy {
    @apply text-3xl;
  }

  footer p {
    @apply m-0;
  }

  /* ============================================
     MEDIA
     ============================================ */
  video {
    @apply max-w-full;
  }

  iframe {
    @apply w-full max-w-full overflow-hidden my-5;
    min-height: 510px;
  }

  /* ============================================
     ARCHIVE
     ============================================ */
  .archive-list {
    @apply list-none ml-0;
  }

  .archive-list li {
    @apply mb-2;
  }

  .archive-date {
    @apply font-mono text-lg text-text opacity-40;
  }

  .archive-separator {
    @apply text-text opacity-40;
  }

  .archive-list a {
    @apply text-text no-underline;
  }

  .archive-list a:hover {
    @apply text-accent underline;
  }

  /* ============================================
     PHOTOS GRID
     ============================================ */
  .photos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
  }

  .photo-item {
    @apply block overflow-hidden rounded-lg;
    aspect-ratio: 1;
  }

  .photo-item img {
    @apply w-full h-full object-cover transition-transform duration-300;
  }

  .photo-item:hover img {
    transform: scale(1.05);
  }

  /* ============================================
     PHOTO MODAL
     ============================================ */
  .photo-modal {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  .photo-modal:target {
    opacity: 1;
    visibility: visible;
  }

  .photo-modal-overlay {
    @apply absolute inset-0;
    background: rgba(0, 0, 0, 0.9);
  }

  .photo-modal-content {
    @apply relative z-10 max-w-5xl max-h-[90vh] mx-4;
  }

  .photo-modal-content img {
    @apply max-w-full max-h-[85vh] rounded-lg object-contain;
    width: auto;
    height: auto;
  }

  .photo-modal-close {
    @apply absolute -top-10 right-0 text-4xl text-text no-underline opacity-70 transition-opacity;
  }

  .photo-modal-close:hover {
    @apply opacity-100 text-text;
  }

  /* ============================================
     REPLIES LIST
     ============================================ */
  .replies-list {
    @apply list-none ml-0;
  }

  .reply-item {
    @apply mb-12 pb-12 border-b border-accent/20;
  }

  .reply-item:last-child {
    @apply border-b-0 mb-0 pb-0;
  }

  /* ============================================
     CONVERSATIONS (Micro.blog replies)
     ============================================ */
  .microblog_conversation {
    @apply mt-16;
  }

  .microblog_conversation .microblog_post {
    @apply mb-8 p-10 rounded-lg;
    background: #00000050;
  }

  .microblog_conversation .microblog_post:last-of-type {
    @apply mb-0;
  }

  .microblog_user {
    @apply text-lg font-bold uppercase tracking-wider text-accent mb-6 flex items-center;
  }

  .microblog_avatar {
    @apply hidden;
  }

  .microblog_text p,
  .microblog_text p a {
    @apply text-3xl leading-relaxed text-text mb-6;
  }

  .microblog_text p a:hover {
    @apply text-accent underline;
  }

  .microblog_time a {
    @apply text-text opacity-40 text-lg font-bold uppercase tracking-wide no-underline font-mono;
  }

  .microblog_time a:hover {
    @apply text-text opacity-100 underline;
  }

  /* Reply form (injected by conversation.js) */
  .microblog_reply_form {
    @apply mt-12 p-8 rounded-lg;
    background: #00000030;
  }

  .microblog_reply_signin {
    @apply text-lg text-text mb-4;
  }

  .microblog_reply_signin a {
    @apply text-accent underline;
  }

  .microblog_reply_textarea {
    @apply w-full p-4 rounded-lg text-lg mb-4;
    background: var(--background-alt);
    color: var(--text);
    border: 1px solid var(--accent);
    min-height: 100px;
    resize: vertical;
  }

  .microblog_reply_textarea:focus {
    @apply outline-none;
    border-color: var(--text);
  }

  .microblog_reply_button {
    @apply px-6 py-3 rounded-lg font-bold no-underline cursor-pointer;
    background: var(--accent);
    color: var(--background);
    border: none;
  }

  .microblog_reply_button:hover {
    background: var(--text);
  }

  /* ============================================
     LINK CARDS (for /links/ page)
     ============================================ */
  .links-intro {
    @apply mb-16 max-w-2xl;
  }

  .links-intro p,
  .links-description {
    @apply text-text-alt leading-relaxed;
    font-size: 1.5rem;
  }

  .link-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 24px;
    @apply list-none ml-0;
  }

  .link-card {
    @apply rounded-lg p-6 transition-all duration-200;
    background: var(--background-alt);
    border: 1px solid rgba(217, 70, 239, 0.2);
  }

  .link-card:hover {
    border-color: var(--accent);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  }

  .link-card-title {
    @apply text-xl font-bold mb-2 leading-tight;
  }

  .link-card-title a {
    @apply text-text no-underline;
  }

  .link-card-title a:hover {
    @apply text-accent;
  }

  .link-card-description {
    @apply text-base text-text-alt mb-4 leading-relaxed;
  }

  .link-card-meta {
    @apply flex items-center justify-between text-sm font-mono uppercase tracking-wide opacity-50;
  }

  .link-card-domain {
    @apply text-accent;
  }

  .link-card-date {
    @apply text-text;
  }

  /* External link indicator */
  .link-card-title a::after {
    content: " â†—";
    @apply text-accent opacity-60;
  }

  /* ============================================
     NEWSLETTER CTA
     ============================================ */
  .newsletter-cta {
    @apply mt-10 pb-12 text-center;
  }

  .newsletter-cta form {
    @apply inline-flex items-center rounded-full;
    background: var(--background-alt);
    border: 1px solid rgba(217, 70, 239, 0.3);
    padding: 4px;
    gap: 4px;
  }

  .newsletter-cta-label {
    @apply text-sm text-text-alt whitespace-nowrap;
    padding: 6px 12px 6px 16px;
  }

  .newsletter-cta input[type="email"] {
    @apply text-sm border-none bg-transparent text-text outline-none;
    padding: 8px 12px;
    width: 180px;
  }

  .newsletter-cta input[type="email"]::placeholder {
    color: rgba(238, 238, 238, 0.5);
  }

  .newsletter-cta input[type="email"]:focus {
    outline: 2px solid var(--accent);
    outline-offset: 1px;
    border-radius: 4px;
  }

  .newsletter-cta input[type="submit"] {
    @apply text-sm font-semibold border-none rounded-full cursor-pointer;
    padding: 8px 20px;
    color: var(--background);
    background: var(--accent);
    transition: background 0.2s;
  }

  .newsletter-cta input[type="submit"]:hover {
    background: var(--text);
  }

  .newsletter-cta input[type="submit"]:focus-visible {
    outline: 2px solid var(--text);
    outline-offset: 2px;
  }
}

/* ============================================
   MOBILE STYLES
   ============================================ */
@media screen and (max-width: 800px) {
  body {
    @apply text-xl;
    margin: 60px auto;
    padding: 0 12px;
  }

  .wrapper {
    max-width: calc(800px - 30px);
    @apply px-4;
  }

  .site-branding {
    @apply gap-4 mb-3;
  }

  img.site-image {
    @apply w-14;
  }

  .page-content {
    @apply py-16;
  }

  h1, h1 a, h1 a:visited {
    @apply text-4xl;
  }

  h3,
  .navigation .page-link,
  .date,
  a.date,
  footer p,
  footer p a,
  .microblog_user,
  .microblog_time a {
    @apply text-sm;
  }

  .site-footer .copy,
  blockquote,
  .microblog_text p,
  .microblog_text p a,
  code {
    @apply text-xl;
  }

  #post-nav {
    @apply pt-16 flex;
  }

  .post-list > li {
    @apply mb-16;
  }

  /* Link cards mobile */
  .links-intro {
    @apply mb-10;
  }

  .links-intro p,
  .links-description {
    font-size: 1.125rem;
  }

  .link-cards {
    grid-template-columns: 1fr;
    gap: 16px;
  }

  .link-card {
    @apply p-5;
  }

  .link-card-title {
    @apply text-lg;
  }

  .link-card-description {
    @apply text-sm mb-3;
  }

  /* Newsletter CTA mobile */
  .newsletter-cta form {
    flex-direction: column;
    border-radius: 12px;
    padding: 12px;
    width: 100%;
    max-width: 280px;
  }

  .newsletter-cta-label {
    padding: 4px 0 8px 0;
  }

  .newsletter-cta input[type="email"] {
    width: 100%;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(217, 70, 239, 0.3);
    border-radius: 6px;
    margin-bottom: 8px;
    padding: 10px 12px;
  }

  .newsletter-cta input[type="submit"] {
    width: 100%;
    padding: 10px 20px;
  }
}
